<div class="row">
    <div class="profileImageBlock col">
        <div class="form-header">Change Your Profile Image</div>
        <div class="alert alert-success" *ngIf="imageUpdateSuccess">{{imageUpdateSuccess}}</div>
        <div class="alert alert-danger" *ngIf="imageUpdateError">{{imageUpdateError}}</div>
        <img [src]="profilePhotoSrc" alt="" class="img-fluid">
        <input 
        type="file" 
        class="form-control"
        accept="image/png, image/jpeg"
        (change)="changeSrc($event);"
        >
        <button 
        class="btn btn-success"
        (click)="onUpdatePhoto()"
        [disabled]="!uploadedImage||!isPhotoEdited">
            Save
        </button>
        
    </div>
    <form (ngSubmit)="onSubmit()" [formGroup]="settingsForm">
        <div class="form-header">Change Your Data</div>
        <div class="alert alert-success" *ngIf="dataUpdateSuccess">{{dataUpdateSuccess}}</div>
        <div class="alert alert-danger" *ngIf="dataUpdateError">{{dataUpdateError}}</div>
        <div class="form-group">
            <div class="form-group-item">
                <label for="username" class="labels">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
                        <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3Zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/>
                    </svg></label>
                <input 
                type="text"
                id="username"
                formControlName="username"
                class="form-control"
                placeholder="Username"
                required
                >
            </div>
            <div 
            class="alert alert-danger"
            *ngIf="!settingsForm.get('username')?.valid && settingsForm.get('username')?.touched"
            >
            Podaj nazwę użytkownika!
            </div>
        </div>
        <div class="form-group">
            <div class="form-group-item">
                <label for="firstname" class="labels">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
                        <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3Zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/>
                    </svg></label>
                <input 
                type="text"
                id="firstname"
                formControlName="firstname"
                class="form-control"
                placeholder="First name"
                required
                >
            </div>
            <div 
            class="alert alert-danger"
            *ngIf="!settingsForm.get('firstname')?.valid && settingsForm.get('firstname')?.touched"
            >
            Podaj nazwę użytkownika!
            </div>
        </div>
        <div class="form-group">
            <div class="form-group-item">
                <label for="lastname" class="labels">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
                        <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3Zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/>
                    </svg></label>
                <input 
                type="text"
                id="lastname"
                formControlName="lastname"
                class="form-control"
                placeholder="Last name"
                required
                >
            </div>
            <div 
            class="alert alert-danger"
            *ngIf="!settingsForm.get('lastname')?.valid && settingsForm.get('lastname')?.touched"
            >
            Podaj nazwę użytkownika!
            </div>
        </div>
        <div class="form-group">
            <div class="form-group-item">
                <label for="email" class="labels">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-envelope-fill" viewBox="0 0 16 16">
                        <path d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555ZM0 4.697v7.104l5.803-3.558L0 4.697ZM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757Zm3.436-.586L16 11.801V4.697l-5.803 3.546Z"/>
                    </svg>
                </label>
                <input 
                type="email"
                id="email"
                formControlName="email"
                class="form-control"
                placeholder="Email"
                required
                email
                >
            </div>
            <div 
            class="alert alert-danger"
            *ngIf="!settingsForm.get('email')?.valid && settingsForm.get('email')?.touched"
            >
            Podaj poprawny adres email!
            </div>
        </div>
        <div class="form-group">
            <div class="form-check form-check-inline" *ngFor="let gender of genders">
                <input 
                    class="form-check-input" 
                    type="radio" 
                    id="flexRadioDefault1"
                    [value]="gender"
                    formControlName="gender">
                <label 
                    class="form-check-label" 
                    for="flexRadioDefault1">
                  {{ gender }}
                </label>   
            </div>
        </div>
        
        
        <button 
        [disabled]="!settingsForm.valid||!settingsForm.touched"
        type="submit"
        class="btn btn-success">Save</button>
    </form>
</div>

